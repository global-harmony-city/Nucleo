<svg viewBox="0 0 1400 1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- グラデーション定義 -->
    <linearGradient id="azureGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0078D4;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#00BCF2;stop-opacity:0.9" />
    </linearGradient>
    
    <linearGradient id="storageGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#E3F2FD;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#BBDEFB;stop-opacity:0.9" />
    </linearGradient>
    
    <linearGradient id="processingGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#F3E5F5;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#CE93D8;stop-opacity:0.9" />
    </linearGradient>
    
    <linearGradient id="analyticsGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#E8F5E8;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#A5D6A7;stop-opacity:0.9" />
    </linearGradient>
    
    <linearGradient id="costGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#FFF3E0;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#FFCC80;stop-opacity:0.9" />
    </linearGradient>
    
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="4" flood-color="#666" flood-opacity="0.3"/>
    </filter>
    
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge> 
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- 背景 -->
  <rect width="1400" height="1000" fill="#F8F9FA"/>
  
  <!-- タイトル -->
  <rect x="50" y="30" width="600" height="80" fill="url(#azureGradient)" stroke="#0078D4" stroke-width="2" rx="12" filter="url(#shadow)"/>
  <text x="350" y="55" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="20" font-weight="bold" fill="white">Azure データ基盤層</text>
  <text x="350" y="80" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="16" fill="white">マイクロ炉自給自足型モデル都市</text>
  <text x="350" y="100" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="14" fill="white">シンプル・低コスト設計</text>
  
  <!-- データソース層（左端） -->
  <g id="data-sources">
    <rect x="50" y="150" width="200" height="600" fill="rgba(255,255,255,0.95)" stroke="#E0E0E0" stroke-width="2" rx="10" filter="url(#shadow)"/>
    <text x="150" y="180" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="16" font-weight="bold" fill="#2F4F4F">データソース</text>
    
    <!-- IoTセンサー -->
    <rect x="70" y="200" width="160" height="40" fill="#E3F2FD" stroke="#2196F3" stroke-width="2" rx="8"/>
    <circle cx="90" cy="220" r="8" fill="#2196F3"/>
    <text x="110" y="215" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#1976D2">IoTセンサー</text>
    <text x="110" y="230" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#1976D2">エネルギー・環境・農業</text>
    
    <!-- 住民システム -->
    <rect x="70" y="260" width="160" height="40" fill="#F3E5F5" stroke="#9C27B0" stroke-width="2" rx="8"/>
    <circle cx="90" cy="280" r="8" fill="#9C27B0"/>
    <text x="110" y="275" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#7B1FA2">住民システム</text>
    <text x="110" y="290" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#7B1FA2">基本情報・世帯・職業</text>
    
    <!-- 施設管理 -->
    <rect x="70" y="320" width="160" height="40" fill="#E8F5E8" stroke="#4CAF50" stroke-width="2" rx="8"/>
    <circle cx="90" cy="340" r="8" fill="#4CAF50"/>
    <text x="110" y="335" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#388E3C">施設管理</text>
    <text x="110" y="350" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#388E3C">建物・インフラ・設備</text>
    
    <!-- 産業システム -->
    <rect x="70" y="380" width="160" height="40" fill="#FFF3E0" stroke="#FF9800" stroke-width="2" rx="8"/>
    <circle cx="90" cy="400" r="8" fill="#FF9800"/>
    <text x="110" y="395" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#F57C00">産業システム</text>
    <text x="110" y="410" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#F57C00">農業・製造・商業</text>
    
    <!-- 行政システム -->
    <rect x="70" y="440" width="160" height="40" fill="#FFEBEE" stroke="#F44336" stroke-width="2" rx="8"/>
    <circle cx="90" cy="460" r="8" fill="#F44336"/>
    <text x="110" y="455" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#D32F2F">行政システム</text>
    <text x="110" y="470" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#D32F2F">財政・法務・企画</text>
    
    <!-- 外部データ -->
    <rect x="70" y="500" width="160" height="40" fill="#F5F5F5" stroke="#757575" stroke-width="2" rx="8"/>
    <circle cx="90" cy="520" r="8" fill="#757575"/>
    <text x="110" y="515" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#424242">外部データ</text>
    <text x="110" y="530" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#424242">気象・市場・法令</text>
    
    <!-- ログ・監査 -->
    <rect x="70" y="560" width="160" height="40" fill="#E1F5FE" stroke="#00BCD4" stroke-width="2" rx="8"/>
    <circle cx="90" cy="580" r="8" fill="#00BCD4"/>
    <text x="110" y="575" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#0097A7">ログ・監査</text>
    <text x="110" y="590" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#0097A7">アクセス・操作・エラー</text>
    
    <!-- データ量表示 -->
    <rect x="70" y="620" width="160" height="60" fill="rgba(240,240,240,0.8)" stroke="#BDBDBD" stroke-width="1" rx="8"/>
    <text x="150" y="640" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="11" font-weight="bold" fill="#424242">想定データ量</text>
    <text x="150" y="655" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#424242">リアルタイム: 100MB/日</text>
    <text x="150" y="670" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#424242">蓄積データ: 10GB/年</text>
  </g>
  
  <!-- 取り込み・処理層 -->
  <g id="ingestion-processing">
    <rect x="300" y="150" width="280" height="300" fill="url(#processingGradient)" stroke="#9C27B0" stroke-width="2" rx="12" filter="url(#shadow)"/>
    <text x="440" y="180" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="16" font-weight="bold" fill="#7B1FA2">取り込み・処理層</text>
    
    <!-- Event Hubs -->
    <rect x="320" y="200" width="110" height="80" fill="white" stroke="#9C27B0" stroke-width="2" rx="8" filter="url(#shadow)"/>
    <circle cx="350" cy="230" r="12" fill="#9C27B0"/>
    <text x="375" y="220" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#7B1FA2">Event Hubs</text>
    <text x="375" y="235" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#7B1FA2">Basic</text>
    <text x="375" y="250" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="bold" fill="#FF5722">¥1,500/月</text>
    <text x="375" y="265" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#666">リアルタイム取り込み</text>
    
    <!-- Stream Analytics -->
    <rect x="450" y="200" width="110" height="80" fill="white" stroke="#9C27B0" stroke-width="2" rx="8" filter="url(#shadow)"/>
    <circle cx="480" cy="230" r="12" fill="#9C27B0"/>
    <text x="505" y="220" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#7B1FA2">Stream Analytics</text>
    <text x="505" y="235" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#7B1FA2">1 SU</text>
    <text x="505" y="250" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="bold" fill="#FF5722">¥12,000/月</text>
    <text x="505" y="265" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#666">リアルタイム処理</text>
    
    <!-- Data Factory -->
    <rect x="320" y="300" width="110" height="80" fill="white" stroke="#9C27B0" stroke-width="2" rx="8" filter="url(#shadow)"/>
    <circle cx="350" cy="330" r="12" fill="#9C27B0"/>
    <text x="375" y="320" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#7B1FA2">Data Factory</text>
    <text x="375" y="335" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#7B1FA2">Standard</text>
    <text x="375" y="350" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="bold" fill="#FF5722">¥5,000/月</text>
    <text x="375" y="365" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#666">バッチ処理・ETL</text>
    
    <!-- 接続線（データソースから処理層へ） -->
    <path d="M 250,220 Q 270,220 300,220" fill="none" stroke="#2196F3" stroke-width="3" marker-end="url(#arrowhead)"/>
    <path d="M 250,280 Q 270,280 320,330" fill="none" stroke="#9C27B0" stroke-width="3" marker-end="url(#arrowhead)"/>
    <path d="M 250,340 Q 270,340 320,340" fill="none" stroke="#4CAF50" stroke-width="3" marker-end="url(#arrowhead)"/>
    <path d="M 250,400 Q 270,400 350,380" fill="none" stroke="#FF9800" stroke-width="3" marker-end="url(#arrowhead)"/>
    <path d="M 250,460 Q 270,460 400,380" fill="none" stroke="#F44336" stroke-width="3" marker-end="url(#arrowhead)"/>
    
    <!-- Event HubsからStream Analyticsへ -->
    <line x1="430" y1="240" x2="450" y2="240" stroke="#9C27B0" stroke-width="3" marker-end="url(#arrowhead)"/>
  </g>
  
  <!-- ストレージ層 -->
  <g id="storage-layer">
    <rect x="630" y="150" width="280" height="300" fill="url(#storageGradient)" stroke="#2196F3" stroke-width="2" rx="12" filter="url(#shadow)"/>
    <text x="770" y="180" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="16" font-weight="bold" fill="#1976D2">ストレージ層</text>
    
    <!-- Data Lake Storage Gen2 -->
    <rect x="650" y="200" width="120" height="90" fill="white" stroke="#2196F3" stroke-width="2" rx="8" filter="url(#shadow)"/>
    <circle cx="680" cy="230" r="12" fill="#2196F3"/>
    <text x="710" y="215" font-family="Segoe UI, Arial, sans-serif" font-size="11" font-weight="bold" fill="#1976D2">Data Lake</text>
    <text x="710" y="230" font-family="Segoe UI, Arial, sans-serif" font-size="11" font-weight="bold" fill="#1976D2">Storage Gen2</text>
    <text x="710" y="245" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#1976D2">1TB LRS</text>
    <text x="710" y="260" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="bold" fill="#FF5722">¥15,000/月</text>
    <text x="710" y="275" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#666">中央データ保管庫</text>
    
    <!-- SQL Database -->
    <rect x="780" y="200" width="120" height="90" fill="white" stroke="#2196F3" stroke-width="2" rx="8" filter="url(#shadow)"/>
    <circle cx="810" cy="230" r="12" fill="#2196F3"/>
    <text x="840" y="220" font-family="Segoe UI, Arial, sans-serif" font-size="11" font-weight="bold" fill="#1976D2">SQL Database</text>
    <text x="840" y="235" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#1976D2">Standard S2</text>
    <text x="840" y="250" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="bold" fill="#FF5722">¥8,000/月</text>
    <text x="840" y="265" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#666">マスターデータ</text>
    <text x="840" y="278" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#666">トランザクション</text>
    
    <!-- Blob Storage -->
    <rect x="650" y="310" width="120" height="70" fill="white" stroke="#2196F3" stroke-width="2" rx="8" filter="url(#shadow)"/>
    <circle cx="680" cy="335" r="12" fill="#2196F3"/>
    <text x="710" y="330" font-family="Segoe UI, Arial, sans-serif" font-size="11" font-weight="bold" fill="#1976D2">Blob Storage</text>
    <text x="710" y="345" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#1976D2">Cool/Archive</text>
    <text x="710" y="360" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="bold" fill="#FF5722">¥3,000/月</text>
    <text x="710" y="373" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#666">バックアップ・ログ</text>
    
    <!-- 接続線（処理層からストレージへ） -->
    <line x1="560" y1="240" x2="650" y2="240" stroke="#9C27B0" stroke-width="3" marker-end="url(#arrowhead)"/>
    <line x1="560" y1="250" x2="780" y2="240" stroke="#9C27B0" stroke-width="3" marker-end="url(#arrowhead)"/>
    <line x1="430" y1="340" x2="650" y2="340" stroke="#9C27B0" stroke-width="3" marker-end="url(#arrowhead)"/>
  </g>
  
  <!-- 分析・可視化層 -->
  <g id="analytics-layer">
    <rect x="960" y="150" width="380" height="300" fill="url(#analyticsGradient)" stroke="#4CAF50" stroke-width="2" rx="12" filter="url(#shadow)"/>
    <text x="1150" y="180" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="16" font-weight="bold" fill="#388E3C">分析・可視化層</text>
    
    <!-- Power BI -->
    <rect x="980" y="200" width="120" height="80" fill="white" stroke="#4CAF50" stroke-width="2" rx="8" filter="url(#shadow)"/>
    <circle cx="1010" cy="230" r="12" fill="#4CAF50"/>
    <text x="1040" y="220" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#388E3C">Power BI Pro</text>
    <text x="1040" y="235" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#388E3C">20ユーザー</text>
    <text x="1040" y="250" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="bold" fill="#FF5722">¥20,000/月</text>
    <text x="1040" y="265" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#666">ダッシュボード</text>
    
    <!-- Synapse Analytics -->
    <rect x="1120" y="200" width="120" height="80" fill="white" stroke="#4CAF50" stroke-width="2" rx="8" filter="url(#shadow)"/>
    <circle cx="1150" cy="230" r="12" fill="#4CAF50"/>
    <text x="1180" y="215" font-family="Segoe UI, Arial, sans-serif" font-size="11" font-weight="bold" fill="#388E3C">Synapse</text>
    <text x="1180" y="230" font-family="Segoe UI, Arial, sans-serif" font-size="11" font-weight="bold" fill="#388E3C">Analytics</text>
    <text x="1180" y="245" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#388E3C">オンデマンド</text>
    <text x="1180" y="260" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="bold" fill="#FF5722">¥3,000/月</text>
    <text x="1180" y="275" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#666">大規模分析</text>
    
    <!-- Azure Purview -->
    <rect x="1050" y="300" width="140" height="80" fill="white" stroke="#4CAF50" stroke-width="2" rx="8" filter="url(#shadow)"/>
    <circle cx="1080" cy="330" r="12" fill="#4CAF50"/>
    <text x="1120" y="320" font-family="Segoe UI, Arial, sans-serif" font-size="12" font-weight="bold" fill="#388E3C">Azure Purview</text>
    <text x="1120" y="335" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#388E3C">スターター</text>
    <text x="1120" y="350" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="bold" fill="#FF5722">¥10,000/月</text>
    <text x="1120" y="365" font-family="Segoe UI, Arial, sans-serif" font-size="9" fill="#666">データカタログ・ガバナンス</text>
    
    <!-- 接続線（ストレージから分析へ） -->
    <line x1="910" y1="240" x2="980" y2="240" stroke="#4CAF50" stroke-width="3" marker-end="url(#arrowhead)"/>
    <line x1="910" y1="250" x2="1120" y2="240" stroke="#4CAF50" stroke-width="3" marker-end="url(#arrowhead)"/>
    <line x1="840" y1="290" x2="1120" y2="340" stroke="#4CAF50" stroke-width="3" marker-end="url(#arrowhead)"/>
  </g>
  
  <!-- セキュリティ・管理層（下部） -->
  <g id="security-management">
    <rect x="300" y="500" width="610" height="150" fill="rgba(255,235,59,0.2)" stroke="#FFC107" stroke-width="2" rx="12" filter="url(#shadow)"/>
    <text x="605" y="530" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="16" font-weight="bold" fill="#F57C00">セキュリティ・管理層</text>
    
    <!-- Azure AD B2C -->
    <rect x="320" y="550" width="110" height="60" fill="white" stroke="#FFC107" stroke-width="2" rx="8"/>
    <circle cx="350" cy="570" r="10" fill="#FFC107"/>
    <text x="375" y="565" font-family="Segoe UI, Arial, sans-serif" font-size="11" font-weight="bold" fill="#F57C00">Azure AD B2C</text>
    <text x="375" y="580" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#F57C00">1000ユーザー</text>
    <text x="375" y="595" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="bold" fill="#FF5722">¥5,000/月</text>
    
    <!-- Key Vault -->
    <rect x="450" y="550" width="110" height="60" fill="white" stroke="#FFC107" stroke-width="2" rx="8"/>
    <circle cx="480" cy="570" r="10" fill="#FFC107"/>
    <text x="505" y="565" font-family="Segoe UI, Arial, sans-serif" font-size="11" font-weight="bold" fill="#F57C00">Key Vault</text>
    <text x="505" y="580" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#F57C00">暗号化キー</text>
    <text x="505" y="595" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="bold" fill="#FF5722">¥1,000/月</text>
    
    <!-- Monitor + Log Analytics -->
    <rect x="580" y="550" width="110" height="60" fill="white" stroke="#FFC107" stroke-width="2" rx="8"/>
    <circle cx="610" cy="570" r="10" fill="#FFC107"/>
    <text x="635" y="565" font-family="Segoe UI, Arial, sans-serif" font-size="11" font-weight="bold" fill="#F57C00">Monitor</text>
    <text x="635" y="580" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#F57C00">Log Analytics</text>
    <text x="635" y="595" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="bold" fill="#FF5722">¥3,000/月</text>
    
    <!-- 自動化スケジュール -->
    <rect x="710" y="550" width="110" height="60" fill="white" stroke="#FFC107" stroke-width="2" rx="8"/>
    <circle cx="740" cy="570" r="10" fill="#FFC107"/>
    <text x="765" y="565" font-family="Segoe UI, Arial, sans-serif" font-size="11" font-weight="bold" fill="#F57C00">Automation</text>
    <text x="765" y="580" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#F57C00">自動スケール</text>
    <text x="765" y="595" font-family="Segoe UI, Arial, sans-serif" font-size="10" font-weight="bold" fill="#4CAF50">含まれる</text>
  </g>
  
  <!-- コスト表示（右下） -->
  <g id="cost-summary">
    <rect x="960" y="500" width="380" height="150" fill="url(#costGradient)" stroke="#FF9800" stroke-width="3" rx="12" filter="url(#shadow)"/>
    <text x="1150" y="530" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="18" font-weight="bold" fill="#E65100">月額コスト概算</text>
    
    <!-- Phase別コスト -->
    <rect x="980" y="545" width="100" height="80" fill="white" stroke="#FF9800" stroke-width="2" rx="8"/>
    <text x="1030" y="565" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="bold" fill="#E65100">Phase 1</text>
    <text x="1030" y="580" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="20" font-weight="bold" fill="#FF5722">¥48,000</text>
    <text x="1030" y="595" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#666">基本機能</text>
    <text x="1030" y="610" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#666">ストレージ+分析</text>
    
    <rect x="1100" y="545" width="